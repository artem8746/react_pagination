{"version":3,"sources":["components/Pagination/Pagination.tsx","App.tsx","utils.ts","index.tsx"],"names":["Pagination","paginationRules","items","onPageChanged","pageLinks","amount","activePage","onClickCallBack","linksList","i","push","className","cn","active","onClick","href","createLinksList","Math","ceil","total","perPage","currentPage","pageNumber","visibleItems","slice","disabled","length","map","item","from","to","numbers","n","getNumbers","DEFAULT_PAGINATION_RULES","ITEMS_PER_PAGE_OPTIONS","App","useState","setPaginationRules","min","id","value","onChange","event","target","number","htmlFor","rules","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d86c546.chunk.js","sourcesContent":["import cn from 'classnames';\nimport { PaginationRules } from '../../types/PaginationRules';\n\ninterface Props<T> {\n  paginationRules: PaginationRules\n  items: T[]\n  onPageChanged: (rules: PaginationRules) => void\n}\n\nfunction createLinksList(amount: number,\n  activePage: number,\n  onClickCallBack: (pageNumber: number) => void) {\n  const linksList = [];\n\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < amount; i++) {\n    linksList.push(\n      <li className={cn('page-item', {\n        active: i === activePage - 1,\n      })}\n      >\n        <a\n          onClick={() => onClickCallBack(i + 1)}\n          data-cy=\"pageLink\"\n          className=\"page-link\"\n          href={`#${i + 1}`}\n          key={i}\n        >\n          {i + 1}\n        </a>\n      </li>,\n    );\n  }\n\n  return linksList;\n}\n\nexport function Pagination<T>({\n  paginationRules,\n  items,\n  onPageChanged,\n}: Props<T>) {\n  const pageLinks = createLinksList(\n    Math.ceil(paginationRules.total / paginationRules.perPage),\n    paginationRules.currentPage,\n    (pageNumber: number) => onPageChanged({\n      ...paginationRules,\n      currentPage: pageNumber,\n    }),\n  );\n\n  const visibleItems = items\n    .slice((paginationRules.currentPage - 1) * paginationRules.perPage,\n      (paginationRules.currentPage - 1) * paginationRules.perPage\n      + paginationRules.perPage);\n\n  return (\n    <>\n      <ul className=\"pagination\">\n        <li className={cn('page-item', {\n          disabled: paginationRules.currentPage === 1,\n        })}\n        >\n          <a\n            onClick={() => {\n              if (paginationRules.currentPage === 1) {\n                return;\n              }\n\n              onPageChanged({\n                ...paginationRules,\n                currentPage: paginationRules.currentPage - 1,\n              });\n            }}\n            data-cy=\"prevLink\"\n            className=\"page-link\"\n            href=\"#prev\"\n            aria-disabled={paginationRules.currentPage === 1}\n          >\n            «\n          </a>\n        </li>\n        {pageLinks}\n        <li className={cn('page-item', {\n          disabled: paginationRules.currentPage === pageLinks.length,\n        })}\n        >\n          <a\n            onClick={() => {\n              if (paginationRules.currentPage === pageLinks.length) {\n                return;\n              }\n\n              onPageChanged({\n                ...paginationRules,\n                currentPage: paginationRules.currentPage + 1,\n              });\n            }}\n            data-cy=\"nextLink\"\n            className=\"page-link\"\n            href=\"#next\"\n            aria-disabled={paginationRules.currentPage === pageLinks.length}\n          >\n            »\n          </a>\n        </li>\n      </ul>\n      <ul>\n        {visibleItems.map(item => (\n          <li data-cy=\"item\" key={item as unknown as string}>{item}</li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport { getNumbers } from './utils';\nimport { PaginationRules } from './types/PaginationRules';\nimport { Pagination } from './components/Pagination';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst items = getNumbers(1, 42)\n  .map(n => `Item ${n}`);\n\nconst DEFAULT_PAGINATION_RULES: PaginationRules = {\n  perPage: 5,\n  currentPage: 1,\n  total: items.length,\n};\n\nconst ITEMS_PER_PAGE_OPTIONS = [3, 5, 10, 20];\n\nexport const App: React.FC = () => {\n  const [paginationRules, setPaginationRules]\n    = useState<PaginationRules>(DEFAULT_PAGINATION_RULES);\n\n  return (\n    <div className=\"container\">\n      <h1>Items with Pagination</h1>\n\n      <p className=\"lead\" data-cy=\"info\">\n        {`Page ${paginationRules.currentPage} (items ${(paginationRules.currentPage - 1) * paginationRules.perPage + 1} - ${Math.min((paginationRules.currentPage - 1) * paginationRules.perPage + paginationRules.perPage, items.length)} of ${paginationRules.total})`}\n      </p>\n\n      <div className=\"form-group row\">\n        <div className=\"col-3 col-sm-2 col-xl-1\">\n          <select\n            data-cy=\"perPageSelector\"\n            id=\"perPageSelector\"\n            className=\"form-control\"\n            value={paginationRules.perPage}\n            onChange={(event) => setPaginationRules({\n              ...paginationRules,\n              perPage: +event.target.value,\n              currentPage: 1,\n            })}\n          >\n            {ITEMS_PER_PAGE_OPTIONS.map(number => (\n              <option value={number} key={number}>\n                {number}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n          items per page\n        </label>\n      </div>\n\n      <Pagination\n        paginationRules={paginationRules}\n        items={items}\n        onPageChanged={(rules) => setPaginationRules(rules)}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import ReactDOM from 'react-dom';\nimport 'bulma';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}