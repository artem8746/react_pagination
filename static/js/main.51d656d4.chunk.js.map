{"version":3,"sources":["components/Link/Link.tsx","components/Pagination/Pagination.tsx","services/LinksService.tsx","App.tsx","utils.ts","index.tsx"],"names":["Link","href","isActive","onClickCallBack","className","cn","active","onClick","Pagination","paginationRules","items","onPageChanged","pageLinks","amount","activePage","linksList","i","push","createLinksList","Math","ceil","total","perPage","currentPage","pageNumber","visibleItems","slice","disabled","length","map","item","from","to","numbers","n","getNumbers","DEFAULT_PAGINATION_RULES","ITEMS_PER_PAGE_OPTIONS","App","useState","setPaginationRules","itemsStartNumber","itemsEndNumber","min","id","value","onChange","event","target","number","htmlFor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.51d656d4.chunk.js","sourcesContent":["import React from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  href: number,\n  isActive: boolean,\n  onClickCallBack: (href: number) => void,\n};\n\nexport const Link: React.FC<Props> = ({\n  href,\n  isActive,\n  onClickCallBack,\n}) => (\n  <li className={cn('page-item', {\n    active: isActive,\n  })}\n  >\n    <a\n      onClick={() => onClickCallBack(href)}\n      data-cy=\"pageLink\"\n      className=\"page-link\"\n      href={`#${href}`}\n    >\n      {href}\n    </a>\n  </li>\n);\n","import cn from 'classnames';\nimport { PaginationRules } from '../../types/PaginationRules';\nimport { createLinksList } from '../../services/LinksService';\n\ninterface Props<T> {\n  paginationRules: PaginationRules\n  items: T[]\n  onPageChanged: (rules: PaginationRules) => void\n}\n\nexport function Pagination<T>({\n  paginationRules,\n  items,\n  onPageChanged,\n}: Props<T>) {\n  const pageLinks = createLinksList(\n    Math.ceil(paginationRules.total / paginationRules.perPage),\n    paginationRules.currentPage,\n    (pageNumber: number) => onPageChanged({\n      ...paginationRules,\n      currentPage: pageNumber,\n    }),\n  );\n\n  const visibleItems = items\n    .slice((paginationRules.currentPage - 1) * paginationRules.perPage,\n      (paginationRules.currentPage - 1) * paginationRules.perPage\n      + paginationRules.perPage);\n\n  const handleNextPageButtonClicked = () => {\n    if (paginationRules.currentPage === pageLinks.length) {\n      return;\n    }\n\n    onPageChanged({\n      ...paginationRules,\n      currentPage: paginationRules.currentPage + 1,\n    });\n  };\n\n  const handlePrevPageButtonClicked = () => {\n    if (paginationRules.currentPage === 1) {\n      return;\n    }\n\n    onPageChanged({\n      ...paginationRules,\n      currentPage: paginationRules.currentPage - 1,\n    });\n  };\n\n  return (\n    <>\n      <ul className=\"pagination\">\n        <li className={cn('page-item', {\n          disabled: paginationRules.currentPage === 1,\n        })}\n        >\n          <a\n            onClick={handlePrevPageButtonClicked}\n            data-cy=\"prevLink\"\n            className=\"page-link\"\n            href=\"#prev\"\n            aria-disabled={paginationRules.currentPage === 1}\n          >\n            «\n          </a>\n        </li>\n        {pageLinks}\n        <li className={cn('page-item', {\n          disabled: paginationRules.currentPage === pageLinks.length,\n        })}\n        >\n          <a\n            onClick={handleNextPageButtonClicked}\n            data-cy=\"nextLink\"\n            className=\"page-link\"\n            href=\"#next\"\n            aria-disabled={paginationRules.currentPage === pageLinks.length}\n          >\n            »\n          </a>\n        </li>\n      </ul>\n      <ul>\n        {visibleItems.map(item => (\n          <li data-cy=\"item\" key={item as unknown as string}>{item}</li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","import { Link } from '../components/Link';\n\nexport function createLinksList(amount: number,\n  activePage: number,\n  onClickCallBack: (pageNumber: number) => void) {\n  const linksList = [];\n\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0; i < amount; i++) {\n    linksList.push((\n      <Link\n        key={i + 1}\n        href={i + 1}\n        isActive={activePage === i + 1}\n        onClickCallBack={onClickCallBack}\n      />\n    ));\n  }\n\n  return linksList;\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport { getNumbers } from './utils';\nimport { PaginationRules } from './types/PaginationRules';\nimport { Pagination } from './components/Pagination';\n\nconst items = getNumbers(1, 42)\n  .map(n => `Item ${n}`);\n\nconst DEFAULT_PAGINATION_RULES: PaginationRules = {\n  perPage: 5,\n  currentPage: 1,\n  total: items.length,\n};\n\nconst ITEMS_PER_PAGE_OPTIONS = [3, 5, 10, 20];\n\nexport const App: React.FC = () => {\n  const [paginationRules, setPaginationRules]\n    = useState<PaginationRules>(DEFAULT_PAGINATION_RULES);\n  const itemsStartNumber\n    = (paginationRules.currentPage - 1) * paginationRules.perPage + 1;\n  const itemsEndNumber\n    = Math.min((\n      paginationRules.currentPage - 1)\n      * paginationRules.perPage + paginationRules.perPage,\n    items.length);\n\n  const handleOnChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setPaginationRules({\n      ...paginationRules,\n      perPage: +event.target.value,\n      currentPage: 1,\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Items with Pagination</h1>\n\n      <p className=\"lead\" data-cy=\"info\">\n        {`Page ${paginationRules.currentPage} (items ${itemsStartNumber} - ${itemsEndNumber} of ${paginationRules.total})`}\n      </p>\n\n      <div className=\"form-group row\">\n        <div className=\"col-3 col-sm-2 col-xl-1\">\n          <select\n            data-cy=\"perPageSelector\"\n            id=\"perPageSelector\"\n            className=\"form-control\"\n            value={paginationRules.perPage}\n            onChange={handleOnChange}\n          >\n            {ITEMS_PER_PAGE_OPTIONS.map(number => (\n              <option value={number} key={number}>\n                {number}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n          items per page\n        </label>\n      </div>\n\n      <Pagination\n        paginationRules={paginationRules}\n        items={items}\n        onPageChanged={setPaginationRules}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import ReactDOM from 'react-dom';\nimport 'bulma';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}